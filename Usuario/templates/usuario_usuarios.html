{% extends "base.html" %}

{% block title %}Usuarios del Sistema{% endblock %}

{% block extra_css %}
<style>
.container {
    max-width: 1000px;
    margin: 20px auto;
    padding: 0 10px;
}

h1 {
    text-align: center;
    color: var(--metso-dark-gray);
    font-weight: 600;
    margin-bottom: 20px;
    font-family: 'Poppins', sans-serif;
    font-size: 1.3rem;
}

.table-wrapper {
    background: var(--metso-white);
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    overflow-x:auto;
}

table {
    width: 100%;
    border-collapse: collapse;
    min-width: 600px;
}

th, td {
    padding: 8px 10px;
    text-align: left;
    font-size: 0.9rem;
}

th {
    background: #f7f8fa;
    color: var(--metso-dark-gray);
    font-weight: 600;
}

tr:hover {
    background: #f1f2f6;
    transition: background 0.2s ease;
}

.btn-action {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 4px;
    padding: 5px 10px;
    border-radius: 5px;
    color: #fff;
    text-decoration: none;
    transition: all 0.2s ease;
    font-size: 0.8rem;
}

.btn-warning { background: #ffb703; color: #333; }
.btn-warning:hover { background: #e0a800; }

.btn-info { background: #38b000; }
.btn-info:hover { background: #2d9000; }

.text-muted { color: #777 !important; font-size: 0.85rem; }
</style>
{% endblock %}

{% block content %}
<div class="container">
    <h1>Usuarios del Sistema</h1>

    <div class="table-wrapper">
        <table>
            <thead>
                <tr>
                    <th>#</th>
                    <th>Nombre completo</th>
                    <th>Email corporativo</th>
                    <th>Email secundario</th>
                    <th>Teléfono corporativo</th>
                    <th>Teléfono secundario</th>
                    <th>Área de Trabajo</th>
                    <th>Cargo</th>
                    <th>Fecha de registro</th>
                    <th style="text-align:center;">Acciones</th>
                </tr>
            </thead>
            <tbody>
                {% if usuarios %}
                    {% for user in usuarios %}
                    <tr>
                        <td>{{ forloop.counter }}</td>
                        <td>{{ user.nombre }}</td>
                        <td>{{ user.email_corporativo }}</td>
                        <td>{{ user.email_secundario }}</td>
                        <td>{{ user.telefono_corporativo }}</td>
                        <td>{{ user.telefono_secundario }}</td>
                        <td>{{ user.area_trabajo }}</td>
                        <td>{{ user.cargo }}</td>
                        <td>{{ user.fecha_registro|date:"d M Y H:i" }}</td>
                        <td style="text-align:center;">
                            <a class="btn-action btn-warning" title="Editar">
                                <i class="fas fa-user-cog"></i>
                            </a>
                            <a class="btn-action btn-info" title="Ver estadísticas">
                                <i class="fas fa-eye"></i>
                            </a>
                        </td>
                    </tr>
                    {% endfor %}
                {% else %}
                    <tr>
                        <td colspan="10" style="text-align:center;" class="text-muted">No hay usuarios registrados.</td>
                    </tr>
                {% endif %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
